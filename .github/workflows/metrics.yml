name: Metrics
on:
  # Chạy tự động 0h00 hằng ngày
  schedule: [{cron: "0 0 * * *"}]
  # Cho phép chạy thủ công
  workflow_dispatch:
  push: {branches: ["master", "main"]}
jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.METRICS_TOKEN }}
          
          # --- CẤU HÌNH ĐỂ GIỐNG HỆT ẢNH BẠN GỬI ---
          user: Tuananh2809 # Thay bằng username của bạn nếu cần
          template: classic
          
          # Phần 'base' này quyết định các mục hiển thị trong ảnh
          # header: Chứa avatar, ngày tham gia
          # activity: Chứa thanh commit (màu xanh), số repo đóng góp
          # community: Chứa số follower, người đang follow
          # repositories: Chứa thông tin giấy phép (license), sao, releases
          # metadata: Thông tin kỹ thuật của ảnh
          base: header, activity, community, repositories, metadata
          
          config_timezone: Asia/Ho_Chi_Minh

          filename: access/svg/github-metrics.svg 
          
          # Lưu ý: Nếu bạn muốn lưu vào nhánh main hiện tại thì thêm dòng này cho chắc:
          committer_branch: main 
          committer_message: "Update metrics display"
